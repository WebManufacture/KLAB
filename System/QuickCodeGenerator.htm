<include url="System.Win.htm" alt="system.windows.htm"></include>
<include url="System.Components.js"></include>


<div class="module-button" src="http://system.web-manufacture.net/Favelets.png" onclick="QuickCodeGenerator.show()" icon="applications-system.png" ></div>

<div class="content qc-js invisible" url="QuickCode.js"></div>    
<win class="QuickCodeGenerator" type="smallwindow" title="Генератор быстрокода">
    <div class="button small" title="Сгенерировать" onclick="QuickCodeGenerator.Generate();" icon="applications-system.png" style="background-size: 20px 20xp;"></div>
    <input type="checkbox" class="mod-need" value="" style="float: left;">Подгружать модули</input>
    <a class="qc-href" style="float: right;" href="javascript:void(0);">Ссылка</a> 
    <div class="clear"></div>
    <textarea class="quick-code"></textarea>    
</win>


<script type="text/javascript">
    QuickCodeGenerator = W.get(".QuickCodeGenerator");

    QuickCodeGenerator.Generate = function() {
        var inp = this.get(".mod-need");
        var qc = this.get(".quick-code");
        var js = W.get(".qc-js");
        js = js.html();
        js = js.replace("//MainFunctionBody", qc.value);
        var isMod = inp.checked;
        js = js.replace("IsNeedLoadModules", isMod);
        var href = this.get(".qc-href");
        href.attr("href", "javascript:" + js);
        qc.value = js;
    };
    
</script>

<style type="text/css">
  .window.QuickCodeGenerator
  {
    color: black;
    opacity: .9;
    top: 100px;
    right: 100px;
    width: 700px;
    height: 600px;
    z-index: 1000;
  }
    
  .QuickCodeGenerator .quick-code
  {
    background-color: #CCC;
    border: solid 1px darkorange;
    width: 96%;
    margin-left: 2%;
    margin-right: 2%;
    height: 326px;
    text-align: left;
    padding-top: 4px;
    overflow: scroll;
  }
   
</style>

