<include url="System.Win.htm" alt="system.windows.htm"></include>
  
<div class="module-button" onclick="FaveletsGenerator.show()" icon="applications-system.png" ></div>

<div class="content fg-js invisible" url="Favelets.js"></div>    
<win class="FaveletsGenerator" type="smallwindow" title="Генератор Закладурок">
    
    <input type="text" class="fg-file" value="" style="float: left;"/>
    <div class="button mini" title="Сгенерировать" onclick="FaveletsGenerator.Generate();" icon="applications-system.png" style="background-size: 20px 20xp;"></div>
    <a class="favelet-href" href="javascript:void(0);">Ссылка на закладурку</a> 
    <div class="clear"></div>
    <div class="favelet-code"></div>    
</win>


<script type="text/javascript">
    FaveletsGenerator = W.get(".FaveletsGenerator");
    
    FaveletsGenerator.Generate = function()
	{
	    var inp = this.get(".fg-file");
	    var js = W.get(".fg-js");
	    js = js.html();
	    js = js.replace("{PlaceForFileName}", inp.value);
	    var fc = this.get(".favelet-code");
	    fc.html(js);
	    var href = this.get(".favelet-href");
	    href.attr("href", "javascript:" + js);
	};
    
</script>

<style type="text/css">
  .window.FaveletsGenerator
  {
    color: black;
    opacity: .9;
    top: 100px;
    right: 100px;
    width: 500px;
    height: 400px;
    z-index: 1000;
  }
    
  .FaveletsGenerator .favelet-code
  {
    background-color: #CCC;
    border: solid 1px darkorange;
    width: 96%;
    margin-left: 2%;
    margin-right: 2%;
    height: 326px;
    text-align: left;
    padding-top: 4px;
    overflow: scroll;
  }
   
</style>

