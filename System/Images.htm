<!DOCTYPE html>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<html>
  <head>
    <title>Картинки</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <script type="text/javascript" src="System.JS.js" key="jss"></script>
    <script type="text/javascript" src="System.Utils.js" key="jss"></script>
    <script type="text/javascript" src="System.AJAX.js" key="jss"></script>
    <link type='text/css' rel='stylesheet' href="System.default.css"/>
    <style>
      .image{
        width: 100px;
        height: 120px;
        border: solid 1px gray;
        margin: 2px;
        float: left;
        position: relative;
      }
      
      .image .name{
        color: silver;
        font-size: 10px;
        overflow: hidden;
        height: 20px;
      }
      
      .image .name:hover{
        color: black;
        position: absolute;
        top: 0px;
        left: 0px;
        z-index: 10;
        font-size: 14px;
        overflow: visible;
        padding: 20px;
        background-color: #dfc;
        white-space: nowrap;
      }
      
      .image .image-container{
        padding: 10px;
        height: 100px;
        box-sizing: border-box;
        -moz-box-sizing: border-box;
        text-align: center;
        background-color: #eee;
      }
      
      .image .image-container:hover{
        position: absolute;
        top: 20px;
        left: 0px;
        height: auto;
        z-index: 10;
      }
      
      .image img{
        max-width: 80px;
        max-height: 80px;
      }
      
      .image img:hover
      {
        max-width: none;
        max-height: none;
      }
    </style>
  </head>
  <body id="main-body-block">
    <div class="images-block">
      
    </div>
    <script type="text/javascript">
      images = W.get(".images-block");
      
      images.LoadTreeComplete = function(){
        var files = W.Wrap(this.responseText, ".File"); 
        for (var i = 0; i < files.length; i++){
          var name = files[i].attr("name");
          var div = images.adv("image");
          div.adv("name", name);
          div.container = div.adv("image-container");
	    div.container.add("<img src='/images/" + name  + "'></img>");
        }
      }
      
      var url = X.Handle("images", images.LoadTreeComplete);
            
    </script>

  </body>
</html>
