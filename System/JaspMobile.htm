<html>
<head>
  

  
</head>

  <body>
    
    <script type='text/javascript' >

function SavePage() {
  
   var req = new XMLHttpRequest();
   var url='System.ContentHandler.ashx?file=jaspMobile.htm&action=save&path=jaspMobile.htm';
   
   var data = document.body.innerHTML;
   req.onload = DataSaved;
   req.url = url;
   req.open('POST', url, true);
   req.send(data);
   var btn = document.getElementById('save_btn');
   btn.setAttribute('class','item active');
 }
 
 function DataSaved () {
   var btn = document.getElementById('save_btn');
   btn.setAttribute('class','item');
   alert('saved');
}





function Init(){ 
  var elem = document.getElementById("tags");
  var body = document.body;
  var cnt = document.getElementById("content");
  var elems = body.childNodes;
  for (var i=0; i< elems.length; i++){
    if (elems[i].nodeType == 7){
      var html="<div class='elem'>";
      html += '&lt;' + elems[i].tagName + '&gt;';
      html += '</div>';
      cnt.innerHTML += html;
    }
  }
}

function TagClicked(event){  
  alert(this.innerHTML);
}
    </script>
    
    <style type='text/css'>
            body{
               width:235px;
            }
  
       hr{
          clear:both;
       }
 
           .tags {
              height:32px;
              width:100%;
              font-size: 10px;
           }
           
           .tags .box   {
              height:13px;
              float: left;
              width : 30px;
              overflow:hidden;
              border:1px solid #aaa;                      padding :0px 3px;       
           

           }        
           .tags .tag{
             
        color: green;
           }
           
           .tags .attr{
            
        color: magenta;
           }
           
           .content {
              height:230px;
              overflow: scroll;
           }
           
           .menu {
              height:20px;
           }
           
            .menu .item  {
              height:13px;
              float: left;
              width : 25px;
              border:1px solid silver;                      padding :0px 5px; 
           }
           
           .menu .item.active {
              background:yellow;
           }          
        </style>
       
    <div class="tags" id='tags'>
    <div class="tag box">div</div>
        <div class="tag box">script</div>
        <div class="tag box">style</div>
        <div class="tag box">br</div>
        <div class="tag box">html</div>
        <div class="tag box">body</div>
        <div class="tag box">head</div>
        <div class="tag box">link</div>
        <div class="attr box">class</div>
        <div class="attr box">id</div>
        <div class="attr box">val</div>
    </div>
    <hr />
        <div class="content" id='content'></div>
<hr />
<div class="menu">
 <div class="item">del</div>
 <div class="item">cut</div>
 <div class="item">cpy</div>
 <div class="item">pst</div>
 <div id='save_btn' class="item" onclick="SavePage();">sve</div>
</div>
<script type='text/javascript'>
Init();
/*

window.onerror=function(E){ 
alert(E);
}
var elem = document.getElementById("tags");
var body = document.body;
var cnt = document.getElementById("content");

    for (var I in window){
     var html="<div class='elem'>";
    html += '&lt;' + I + '&gt;';
    html += '</div>';
    cnt.innerHTML += html;
  }*/
  </script>
  </body>
</html>







































